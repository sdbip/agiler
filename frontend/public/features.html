<html>
<head>
  <link rel="stylesheet" href="../public/styles/normalize-8.0.1.css">
  <link rel="stylesheet" href="../public/styles/styles.css">
  <link rel="stylesheet" href="../public/styles/features.css">
  <link rel="icon" href="../public/favicon.ico">
  <link rel="mask-icon" href="../public/favicon.ico" color="#000000">
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body class="saddle-theme">

  <div id="content"></div>
  <div id="value" class="pop-up"></div>
  <div id="mmf" class="pop-up"></div>
  <div id="feature" class="pop-up"></div>
  <script>
    (async () => {
      const response = await fetch('features.md')
      const html = marked.parse(await response.text())
      document.getElementById('content').innerHTML = html
    })();

    (async () => {
      const response = await fetch('value.md')
      const html = marked.parse(await response.text())
      document.getElementById('value').innerHTML = html
    })();

    (async () => {
      const response = await fetch('mmf.md')
      const html = marked.parse(await response.text())
      document.getElementById('mmf').innerHTML = html
    })();

    (async () => {
      const response = await fetch('feature.md')
      const html = marked.parse(await response.text())
      document.getElementById('feature').innerHTML = html
    })();

    function show(id, targetElement) {
      const targetBox = targetElement.getBoundingClientRect()
      const position = {
        x: targetBox.left + 10,
        y: targetBox.top + targetBox.height + 10,
      }

      const popup = document.getElementById(id)
      const style = popup.style
      style.display = 'revert'

      const popupBox = popup.getBoundingClientRect()
      const maxWidth = document.documentElement.clientWidth
      if (position.x + popupBox.width + 10 > maxWidth)
        position.x = maxWidth - (popupBox.width + 10)

      style.top = `${position.y}px`
      style.left = `${position.x}px`
    }

    function hide(id, element) {
      const style = document.getElementById(id).style
      style.display = ''
    }

    function setTheme(theme) {
      console.log('theme', theme)
      document.body.className = `${theme}-theme`
    }
  </script>

  <div style="padding: 20px">
    <div class="saddle-theme button" onmousedown="setTheme('saddle')">Saddle</div>
    <div class="desert-theme button" onmousedown="setTheme('desert')">Desert</div>
    <div class="sea-theme button" onmousedown="setTheme('sea')">Sea</div>
  </div>
</body>
</html>
